<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Showcase</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <header>
        <h1>Colorizing the Prokudin-Gorskii Photo Collection</h1>
        <p>We are colorizing R G B single channel images by aligning and overlaying them using Computer Graphic Techniques</p>

        <br>
        <p>Author: Nakul Srikanth (CS 280 Fall 2024)</p>
    </header>

    <section id="overview" class="project-overview">
        <div class="project-image" id="image-panel">
            <img src="./out_path/emir.jpg" alt="Default Image" id="main-image">

            <div class="images-used"></div>
                <h3>Images Colorized</h3>
                <div class="image-buttons">
                    <button data-img="./out_path/cathedral.jpg">Cathedral</button>
                    <button data-img="./out_path/monastery.jpg">Monastery</button>
                    <button data-img="./out_path/tobolsk.jpg">Tobolsk</button>
                    <button data-img="./out_path/church.jpg">Church</button>
                    <button data-img="./out_path/emir.jpg">Emir</button>
                    <button data-img="./out_path/harvesters.jpg">Harvesters</button>
                    <button data-img="./out_path/icon.jpg">Icon</button>
                    <button data-img="./out_path/lady.jpg">Lady</button>
                    <button data-img="./out_path/melons.jpg">Melons</button>
                    <button data-img="./out_path/onion_church.jpg">Onion Church</button>
                    <button data-img="./out_path/sculpture.jpg">Sculpture</button>
                    <button data-img="./out_path/self_portrait.jpg">Self Portrait</button>
                    <button data-img="./out_path/three_generations.jpg">Three Generations</button>
                    <button data-img="./out_path/train.jpg">Train</button>
                </div>
                <p><b>Image Name</b> [Translational Vector for G] [Translational Vector for G]</p>
                <p>
                    <b>cathedral</b>
                    Translation Vector:  (5, 2)
                    Translation Vector:  (12, 3)
                </p><p>
                    <b>monastery</b>
                    Translation Vector:  (-3, 2)
                    Translation Vector:  (3, 2)
                </p><p>
                    <b>tobolsk</b>
                    Translation Vector:  (3, 2)
                    Translation Vector:  (6, 3)
                </p><p>
                    <b>church</b>
                    Translation Vector:  (25, 4)
                    Translation Vector:  (58, -4)
                </p><p>
                    <b>emir</b>
                    Translation Vector:  (49, 24)
                    Translation Vector:  (107, 40)
                </p><p>
                    <b>harvesters</b>
                    Translation Vector:  (60, 17)
                    Translation Vector:  (124, 14)
                </p><p>
                    <b>icon</b>
                    Translation Vector:  (42, 17)
                    Translation Vector:  (90, 23)
                </p><p>
                    <b>lady</b>
                    Translation Vector:  (56, 9)
                    Translation Vector:  (120, 13)
                </p><p>
                    <b>melons</b>
                    Translation Vector:  (80, 10)
                    Translation Vector:  (177, 13)
                </p><p>
                    <b>onion_church</b>
                    Translation Vector:  (51, 26)
                    Translation Vector:  (107, 35)
                </p><p>
                    <b>sculpture</b>
                    Translation Vector:  (33, -11)
                    Translation Vector:  (139, -26)
                </p><p>
                    <b>self_portrait</b>
                    Translation Vector:  (78, 29)
                    Translation Vector:  (176, 37)
                </p><p>
                    <b>three_generations</b>
                    Translation Vector:  (54, 12)
                    Translation Vector:  (111, 9)
                </p><p>
                    <b>train</b>
                    Translation Vector:  (41, 0)
                    Translation Vector:  (85, 29)
                </p>
            </div>

        </div>
        <div class="project-details">
            <h2>Project Overview</h2>
            <p>The goal of this project was to take random croppings of single channel images (R G B) and overlay them to produce a single coherent image. 
                This was particularly challenging as it was hard to find the exact translational vector. Some key challenges including finding the proper heuristic to evaluate
                a good overlay of channels, and implementing a fast algorithm to quickly align high-res images.</p>

            <p>For my implementation, I first used a naive approach of scanning 20x20 pixel ranges for the entire image and trying to align some low-res images. I used an L2 norm for my heuristic to determine
                proper overlay. I used the B channel as the reference frame and aligned the R and G seperately, and then overlayed them. This implementation worked very well for low resolution images.
                For higher resolution images, however, I was unable to properly align images as the algorithm was too slow. I implemented the Pyramid Image Processing algorithm to improve the speed of my Processing
                my dynamically downsampling my images until I reached some arbitrary low-resolution, and then used my naive approach to obtain a base-level translation. Once I knew my base level translation
                I then scaled it by my downsampling factor and incorporated it into my recursive search logic to narrow down and fine tune how much I needed to translate in higher-res. For the higher-res images
                I used a 3x3 pixel range for fine-tuning my search and only using 20x20 for highest level of downsampled low-res image. This solved my speed problem, but my L2 norm was still not a very good heuristic
                as brightness was not captured equally across different channels. Thus, I used edge-detection from "skimage" library to only obtain edges of an image and then apply an L2 norm, and that gave me very promising results
                that I am presenting today!
            </p>

            <p>Enjoy!</p>
        </div>
    </section>

    <footer>
        <p>&copy; 2024 Nakul Srikanth. All Rights Reserved.</p>
    </footer>

    <script src="scripts.js"></script>

</body>
</html>
